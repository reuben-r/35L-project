{"ast":null,"code":"var _jsxFileName = \"/Users/Ray/Desktop/CS35L/project/35L-project/client-server-app/fe/src/pages/Layout.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { Link, Outlet, useNavigate } from \"react-router-dom\";\nimport { useGlobalState, useDispatch } from \"../store\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar Layout = function Layout() {\n  _s();\n  var navigate = useNavigate();\n  var dispatch = useDispatch();\n  var _useGlobalState = useGlobalState(),\n    info = _useGlobalState.info;\n\n  // check route, if / then redirect to /signIn\n  useEffect(function () {\n    var name = window.location.pathname;\n    if (name === \"/\") {\n      navigate(\"/signIn\");\n    }\n    if (info) {\n      return;\n    }\n    if (name === '/driver' || name === '/rider' || name === '/schedule' || name === '/editProfile') {\n      navigate(\"/signIn\");\n    }\n  }, []);\n  var jump = function jump(path) {\n    navigate(path);\n  };\n  var signOut = function signOut() {\n    dispatch({\n      type: \"SIGNOUT\"\n    });\n    navigate(\"/signIn\");\n  };\n  if (!info) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          onClick: function onClick() {\n            return jump(\"/signIn\");\n          },\n          children: \"SignIn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n          onClick: function onClick() {\n            return jump(\"/signUp\");\n          },\n          children: \"SignUp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n          onClick: function onClick() {\n            return jump(\"/tutorial\");\n          },\n          children: \"Tutorial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"content\",\n        children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        onClick: function onClick() {\n          return jump(\"/schedule\");\n        },\n        children: \"Schedule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n        onClick: function onClick() {\n          return jump(\"/tutorial\");\n        },\n        children: \"Tutorial\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this), info.type === \"Driver\" && /*#__PURE__*/_jsxDEV(\"b\", {\n        onClick: function onClick() {\n          return jump(\"/driver\");\n        },\n        children: \"Driver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 36\n      }, _this), info.type === \"Rider\" && /*#__PURE__*/_jsxDEV(\"b\", {\n        onClick: function onClick() {\n          return jump(\"/rider\");\n        },\n        children: \"Rider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 35\n      }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n        onClick: function onClick() {\n          return jump(\"/editProfile\");\n        },\n        children: \"EditProfile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n        onClick: signOut,\n        children: \"SignOut\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"content\",\n      children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n_s(Layout, \"25HAKzyyCQVJE3WaWVMcK2iy9Lg=\", false, function () {\n  return [useNavigate, useDispatch, useGlobalState];\n});\n_c = Layout;\nexport default Layout;\nvar _c;\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["Link","Outlet","useNavigate","useGlobalState","useDispatch","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","Layout","_s","navigate","dispatch","_useGlobalState","info","name","window","location","pathname","jump","path","signOut","type","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_this","id","_c","$RefreshReg$"],"sources":["/Users/Ray/Desktop/CS35L/project/35L-project/client-server-app/fe/src/pages/Layout.jsx"],"sourcesContent":["import { Link, Outlet, useNavigate } from \"react-router-dom\";\nimport { useGlobalState, useDispatch } from \"../store\";\nimport { useEffect } from \"react\";\n\nconst Layout = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const { info } = useGlobalState();\n\n  // check route, if / then redirect to /signIn\n  useEffect(() => {\n    const name = window.location.pathname\n    if (name === \"/\") {\n      navigate(\"/signIn\");\n    }\n\n    if (info) {\n      return;\n    }\n\n    if (name === '/driver' || name === '/rider' || name === '/schedule' || name === '/editProfile') {\n      navigate(\"/signIn\")\n    }\n  }, []);\n\n  const jump = (path) => {\n    navigate(path);\n  };\n\n  const signOut = () => {\n    dispatch({ type: \"SIGNOUT\" });\n    navigate(\"/signIn\")\n  };\n\n  if (!info) {\n    return (\n      <>\n        <header>\n          <b onClick={() => jump(\"/signIn\")}>SignIn</b>\n          <b onClick={() => jump(\"/signUp\")}>SignUp</b>\n          <b onClick={() => jump(\"/tutorial\")}>Tutorial</b>\n        </header>\n        <div id=\"content\">\n          <Outlet />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <header>\n        <b onClick={() => jump(\"/schedule\")}>Schedule</b>\n        <b onClick={() => jump(\"/tutorial\")}>Tutorial</b>\n        {info.type === \"Driver\" && <b onClick={() => jump(\"/driver\")}>Driver</b>}\n        {info.type === \"Rider\" && <b onClick={() => jump(\"/rider\")}>Rider</b>}\n        <b onClick={() => jump(\"/editProfile\")}>EditProfile</b>\n        <b onClick={signOut}>SignOut</b>\n      </header>\n      <div id=\"content\">\n        <Outlet />\n      </div>\n    </>\n  );\n};\n\nexport default Layout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}